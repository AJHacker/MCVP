<html>
<link rel="stylesheet" type="text/css" href="styles/style.css">

  <body>
  <center>
    <h2 id='clients'></h2>
    <h2 id='host'></h2>
    <h2 id='myid'></h2>
    <button onclick="up()" id = 'up' type="button"></button><br>
    <button onclick="left()" id = 'left' type="button"></button><button onclick="right()" id = 'right' type="button"></button><br>
    <button onclick="down()" id = 'down' type="button"></button>

  </center>
    <script src="/socket.io/socket.io.js"></script>

    <script>
      //INIT
      var x = 0
      var y = 0
      var socket = io();
      var e1 = document.getElementById('clients');
      var e2 = document.getElementById('host');
      var e3 = document.getElementById('myid');
      var left = document.getElementById('left');
      var right = document.getElementById('right');
      var down = document.getElementById('down');
      var up = document.getElementById('up');
      socket.emit('clientConnected');
      //END INIT

      function up(){
        y += 5;
      }
      function down(){
        y -= 5;

      }
      function left(){
        x-=5;
      }
      function right(){
        x+=5;
      }


      //TIMER FIRED
      socket.on('tick', function(data) {
        if (data.host) {
          e1.innerHTML = "Game Started:"
          e2.innerHTLM = ''
          e3.innerHTML = ''
          left.innerHTML = 'Left'
          right.innerHTML = 'Right'
          up.innerHTML = 'Up'
          down.innerHTML = 'Down'
          left.style.visibility = 'visible'
          right.style.visibility = 'visible'
          up.style.visibility = 'visible'
          down.style.visibility = 'visible'
          data.positions[String(socket.id)][0] = x;
          data.positions[String(socket.id)][1] = y;
        }else{
          left.style.visibility = 'hidden'
          right.style.visibility = 'hidden'
          up.style.visibility = 'hidden'
          down.style.visibility = 'hidden'
          e1.innerHTML = 'Players: '+data.clients;
          e2.innerHTML = 'Host Connected?: '+data.host;
          e3.innerHTML = 'Your ID: '+socket.id;

        }

      });
      //END TIMER FIRED
    </script>

  </body>
</html>
